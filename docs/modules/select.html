<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset='UTF-8'>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Luakit API Documentation</title>
	<link rel="icon" type="image/png" href="favicon.png" />
	<style type="text/css">* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-family: "Arial", sans-serif;
    color: #333;
    line-height: 1.4;
}

#hdr {
    border-bottom: 1px solid #e0e5e6;
    background-color: #f6f8f8;
}

#hdr > h1 {
    color: #555;
    margin: 0 auto;
    padding: 1rem;
    font-size: 1rem;
    line-height: 1;
}

#hdr > h1, #wrap {
    max-width: 55rem;
}

#wrap {
    padding: 1rem;
    margin: 0 auto;
    justify-content: center;
}

.tagline {
    font-size: 1.5rem;
    color: #555;
    margin: 0 0 1rem;
    font-weight: normal;
}

div.function > h3, div.property > h3 {
    margin-top: 0;
}
div.function > h3 > a, div.property > h3 > a {
    font-family: monospace;
    color: #2B5782;
    text-decoration: none;
    font-size: 1rem;
}
div.function > div > h4, div.property > div > h4 {
    margin: 0.9em 0 0.5em;
}
div.function > div > ul, div.property > div > ul, .property-body {
    margin: 0.5em 0;
}

span.parameter, span.type {
    font-family: monospace;
    color: #2B5782;
    text-decoration: none;
}
span.parameter {
    font-weight: bold;
}

li.parameter {
    margin-bottom: 1rem;
}

span.optional, span.any_type {
    font-style: italic;
    color: #777;
}

div.function, div.property {
    margin: 0 -0.5rem 1rem;
    padding: 0 0.5rem;
    overflow: auto;
}

div.function > div, div.property > div {
    margin-left: 2rem;
}

div.function:target, div.property:target {
    background: #ffffb2;
    border-radius: 0.3em;
}

span.info {
    margin-right: 0.5rem;
}

div.alert {
    padding: 8px 35px 8px 14px;
    margin-bottom: 20px;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
    position: relative;
    font-style: italic;
}

div.warn.alert {
    color: #635b31;
    background-color: #fcf8e3;
    border-color: #bdceaf;
    border-left: 2px solid #7c723e;
}

div.good.alert {
    color: #376d38;
    background-color: #dff0d8;
    border-color: #bdceaf;
    border-left: 2px solid #376d38;
}

#wrap {
    display: flex;
    flex: 1;
}
#content {
    flex: 1;
    position: relative;
}
#sidebar {
    flex: 0 0 13rem;
    margin-right: 1rem;
    font-family: "Open Sans", "DejaVu Sans", sans-serif;
}

@media (max-width: 55rem) {
    #sidebar { display: none; }
}

#sidebar > h2 {
    margin: 0 0 1rem;
    font-size: 1.3rem;
    font-weight: normal;
}
#sidebar > h3 {
    margin: 1rem 0 0.5rem;
    font-size: 1.1rem;
    font-weight: normal;
    color: #444;
}
#sidebar > ul {
    list-style-type: none;
    padding: 0;
    margin: 0 0 0.5rem;
}
#sidebar > ul > li {
    margin: 0.2rem 0.2rem 0.2rem 0.5rem;
    font-size: 0.9rem;
}
#sidebar > ul > li > a, #sidebar > ul > li > span {
    text-decoration: none;
    font-size: 0.9rem;
}
#sidebar > ul > li > span {
    color: black;
    font-weight: 500;
}
#sidebar > ul.modules > li, #sidebar > ul.classes > li,
#sidebar > ul.modules > li > a, #sidebar > ul.modules > li > span,
#sidebar > ul.classes > li > a, #sidebar > ul.classes > li > span {
    font-family: monospace;
}

#content li:not(:last-child) {
    margin-bottom: 0.5rem;
}

/*
 * Content typography
 */

#content > h1 {
    font-size: 1.7rem;
    color: #000;
    margin: 0 0 0.7rem;
}

#content > h2 {
    font-size: 1.3rem;
    color: #000;
    margin: 1.5rem 0 1rem;
}

#content > h3 {
    font-size: 1.0rem;
    color: #000;
}

/* Links */
a { color: #204a87; text-decoration: none; }
a:visited { color: #2B2087; }
a:hover { text-decoration: underline; }
a:active { color: #0c1d36; }
li.dummy {
    list-style-type: none;
    -webkit-user-select: none;
}

/* Attribution styling */
.attr-wrap {
    display: flex;
    flex: 1;
}
.attr-wrap > h4 {
    flex: 0 0 8rem;
    margin: 0;
}
.attr-wrap > ul {
    flex: 1;
    padding: 2px 0;
    list-style-type: none;
    margin: 0;
}
.attr-wrap > ul > li:before {
   width: 20px;
   margin-right: 5px;
   display: inline-block;
   text-align: center;
}
ul.authors > li:before { content: "•"; }
ul.copyright > li:before { content: "©"; }

/*
 * Code blocks and inline code
 */

.sourcecode .comment { color: #558817; }
.sourcecode .constant { color: #a8660d; }
.sourcecode .escape { color: #844631; }
.sourcecode .keyword { color: #2239a8; font-weight: bold; }
.sourcecode .library { color: #0e7c6b !important; text-decoration: none !important; }
.sourcecode .marker { color: #512b1e; background: #fedc56; font-weight: bold; }
.sourcecode .number { color: #a8660d; }
.sourcecode .operator { color: #2239a8; font-weight: bold; }
.sourcecode .preprocessor { color: #a33243; }
.sourcecode .prompt { color: #558817; }
.sourcecode a:link, .sourcecode a:visited { color: #272fc2; }

code, pre {
    background: #f5f7f9;
    color: #334;
}
code {
    border: 1px solid #dfdfe9;
    padding: 0px 4px;
}
pre > code {
    border: none;
    padding: 0;
}
pre {
    padding: 1rem 1.2rem;
    border-left: 2px solid #69c;
    overflow-x: scroll;
}

/*
 * Binding styles
 */

kbd, .cmd {
    border-radius: .2rem;
    display: inline-block;
    line-height: 1;
    padding: .3rem .4rem;
    vertical-align: baseline;
    font-size: 0.95rem;
    font-weight: 500;
}

kbd {
    background: #444b5b;
    color: #fff;
}

.cmd {
    background: #ffeab5;
    color: #40495c;
}

.two-col { display: flex; }
.two-col > :first-child { flex: 0 0 200px; margin-right: 10px; }
.two-col > :first-child > div:not(:first-child) { margin-top: 0.3rem; }
ul.triggers {
    list-style-type: none;
    padding: 0;
}
ul.triggers > li {
    font-family: monospace, sans-serif;
    color: #2B5782;
    font-weight: bold;
    font-size: 1rem;
}

div.info > div { margin-top: 0.3rem; }
        div#wrap { padding: 0; }
    </style>
	<link rel=stylesheet href=/style.css />
	<link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/fira.css">
	<style type="text/css">
		#wrap { padding: 2em 0; }
		#content > h1 { font-size: 28px; }
		body { background-color: #fcfcfc; }
		body > .container { max-width: unset; }
		nav { font-size: 16px; background:#F3EFE7;}
	</style>
</head>
<body>
	<nav>
		<a href="/">Home</a>
		<a href="/news/">Releases</a>
		<a href="/#sec-download">Download</a>
		<a href="/docs/">Documentation</a>
		<a href="/help/">Help &amp; Support</a>
		<a href="/contributing/">Contributing</a>
		<a href="https://github.com/luakit/luakit" target="_blank">GitHub</a>
	</nav>
	<div class="container">
		<div id=wrap>
            <div id=sidebar>
                <h2>Table of Contents</h2>
                <h3>Pages</h3>
<ul class=pages>
    <li><a href="../pages/01-authors.html">Authors</a></li>
    <li><a href="../pages/02-faq.html">Frequently Asked Questions</a></li>
    <li><a href="../pages/03-quick-start-guide.html">Quick-start Guide</a></li>
    <li><a href="../pages/04-migration-guide.html">Migration Guide</a></li>
    <li><a href="../pages/05-configuration.html">Files and Directories</a></li>
    <li><a href="../pages/06-tests.html">Running the Test Suite</a></li>
    <li><a href="../pages/07-build-debian-package.html">Building a Debian Package</a></li>
</ul>
<h3>Modules</h3>
<ul class=modules>
    <li><a href="../modules/adblock.html">adblock</a></li>
    <li><a href="../modules/adblock_chrome.html">adblock_chrome</a></li>
    <li><a href="../modules/binds.html">binds</a></li>
    <li><a href="../modules/binds_chrome.html">binds_chrome</a></li>
    <li><a href="../modules/bookmarks.html">bookmarks</a></li>
    <li><a href="../modules/bookmarks_chrome.html">bookmarks_chrome</a></li>
    <li><a href="../modules/chrome.html">chrome</a></li>
    <li><a href="../modules/cmdhist.html">cmdhist</a></li>
    <li><a href="../modules/completion.html">completion</a></li>
    <li><a href="../modules/domain_props.html">domain_props</a></li>
    <li><a href="../modules/downloads.html">downloads</a></li>
    <li><a href="../modules/downloads_chrome.html">downloads_chrome</a></li>
    <li><a href="../modules/editor.html">editor</a></li>
    <li><a href="../modules/error_page.html">error_page</a></li>
    <li><a href="../modules/follow.html">follow</a></li>
    <li><a href="../modules/follow_selected.html">follow_selected</a></li>
    <li><a href="../modules/formfiller.html">formfiller</a></li>
    <li><a href="../modules/go_input.html">go_input</a></li>
    <li><a href="../modules/go_next_prev.html">go_next_prev</a></li>
    <li><a href="../modules/go_up.html">go_up</a></li>
    <li><a href="../modules/help_chrome.html">help_chrome</a></li>
    <li><a href="../modules/hide_scrollbars.html">hide_scrollbars</a></li>
    <li><a href="../modules/history.html">history</a></li>
    <li><a href="../modules/history_chrome.html">history_chrome</a></li>
    <li><a href="../modules/image_css.html">image_css</a></li>
    <li><a href="../modules/introspector_chrome.html">introspector_chrome</a></li>
    <li><a href="../modules/ipc.html">ipc</a></li>
    <li><a href="../modules/keysym.html">keysym</a></li>
    <li><a href="../modules/log_chrome.html">log_chrome</a></li>
    <li><a href="../modules/lousy.bind.html">lousy.bind</a></li>
    <li><a href="../modules/lousy.load.html">lousy.load</a></li>
    <li><a href="../modules/lousy.mode.html">lousy.mode</a></li>
    <li><a href="../modules/lousy.pickle.html">lousy.pickle</a></li>
    <li><a href="../modules/lousy.signal.html">lousy.signal</a></li>
    <li><a href="../modules/lousy.theme.html">lousy.theme</a></li>
    <li><a href="../modules/lousy.uri.html">lousy.uri</a></li>
    <li><a href="../modules/lousy.util.html">lousy.util</a></li>
    <li><a href="../modules/lousy.widget.html">lousy.widget</a></li>
    <li><a href="../modules/lousy.widget.buf.html">lousy.widget.buf</a></li>
    <li><a href="../modules/lousy.widget.common.html">lousy.widget.common</a></li>
    <li><a href="../modules/lousy.widget.hist.html">lousy.widget.hist</a></li>
    <li><a href="../modules/lousy.widget.menu.html">lousy.widget.menu</a></li>
    <li><a href="../modules/lousy.widget.progress.html">lousy.widget.progress</a></li>
    <li><a href="../modules/lousy.widget.scroll.html">lousy.widget.scroll</a></li>
    <li><a href="../modules/lousy.widget.ssl.html">lousy.widget.ssl</a></li>
    <li><a href="../modules/lousy.widget.tab.html">lousy.widget.tab</a></li>
    <li><a href="../modules/lousy.widget.tabi.html">lousy.widget.tabi</a></li>
    <li><a href="../modules/lousy.widget.tablist.html">lousy.widget.tablist</a></li>
    <li><a href="../modules/lousy.widget.uri.html">lousy.widget.uri</a></li>
    <li><a href="../modules/lousy.widget.zoom.html">lousy.widget.zoom</a></li>
    <li><a href="../modules/luakit.html">luakit</a></li>
    <li><a href="../modules/luakit.unique.html">luakit.unique</a></li>
    <li><a href="../modules/modes.html">modes</a></li>
    <li><a href="../modules/msg.html">msg</a></li>
    <li><a href="../modules/newtab_chrome.html">newtab_chrome</a></li>
    <li><a href="../modules/noscript.html">noscript</a></li>
    <li><a href="../modules/open_editor.html">open_editor</a></li>
    <li><a href="../modules/proxy.html">proxy</a></li>
    <li><a href="../modules/quickmarks.html">quickmarks</a></li>
    <li><a href="../modules/readline.html">readline</a></li>
    <li><a href="../modules/referer_control_wm.html">referer_control_wm</a></li>
    <li><a href="../modules/search.html">search</a></li>
    <li><span>select</span></li>
    <li><a href="../modules/select_wm.html">select_wm</a></li>
    <li><a href="../modules/session.html">session</a></li>
    <li><a href="../modules/settings.html">settings</a></li>
    <li><a href="../modules/settings_chrome.html">settings_chrome</a></li>
    <li><a href="../modules/soup.html">soup</a></li>
    <li><a href="../modules/styles.html">styles</a></li>
    <li><a href="../modules/tab_favicons.html">tab_favicons</a></li>
    <li><a href="../modules/tabhistory.html">tabhistory</a></li>
    <li><a href="../modules/taborder.html">taborder</a></li>
    <li><a href="../modules/tests.lib.html">tests.lib</a></li>
    <li><a href="../modules/undoclose.html">undoclose</a></li>
    <li><a href="../modules/unique_instance.html">unique_instance</a></li>
    <li><a href="../modules/userscripts.html">userscripts</a></li>
    <li><a href="../modules/utf8.html">utf8</a></li>
    <li><a href="../modules/vertical_tabs.html">vertical_tabs</a></li>
    <li><a href="../modules/view_source.html">view_source</a></li>
    <li><a href="../modules/viewpdf.html">viewpdf</a></li>
    <li><a href="../modules/webinspector.html">webinspector</a></li>
    <li><a href="../modules/webview.html">webview</a></li>
    <li><a href="../modules/window.html">window</a></li>
    <li><a href="../modules/xdg.html">xdg</a></li>
</ul>
<h3>Classes</h3>
<ul class=classes>
    <li><a href="../classes/dom_document.html">dom_document</a></li>
    <li><a href="../classes/dom_element.html">dom_element</a></li>
    <li><a href="../classes/download.html">download</a></li>
    <li><a href="../classes/page.html">page</a></li>
    <li><a href="../classes/regex.html">regex</a></li>
    <li><a href="../classes/sqlite3.html">sqlite3</a></li>
    <li><a href="../classes/stylesheet.html">stylesheet</a></li>
    <li><a href="../classes/timer.html">timer</a></li>
    <li><a href="../classes/widget.html">widget</a></li>
    <li><a href="../classes/widget:box.html">widget:box</a></li>
    <li><a href="../classes/widget:drawing_area.html">widget:drawing_area</a></li>
    <li><a href="../classes/widget:entry.html">widget:entry</a></li>
    <li><a href="../classes/widget:event_box.html">widget:event_box</a></li>
    <li><a href="../classes/widget:image.html">widget:image</a></li>
    <li><a href="../classes/widget:label.html">widget:label</a></li>
    <li><a href="../classes/widget:notebook.html">widget:notebook</a></li>
    <li><a href="../classes/widget:overlay.html">widget:overlay</a></li>
    <li><a href="../classes/widget:paned.html">widget:paned</a></li>
    <li><a href="../classes/widget:scrolled.html">widget:scrolled</a></li>
    <li><a href="../classes/widget:socket.html">widget:socket</a></li>
    <li><a href="../classes/widget:spinner.html">widget:spinner</a></li>
    <li><a href="../classes/widget:webview.html">widget:webview</a></li>
    <li><a href="../classes/widget:window.html">widget:window</a></li>
</ul>

            </div>
            <div id=content>
                        <h1>Module <code>select</code></h1>
        <!-- status indicator -->
        <span class=tagline>Select a page element with a visual interface</span>
        

<p>This module allows you to change the style of hints used to hint elements for
selection in <code>follow</code> mode, as well as other modes that use the visual hint
overlay.</p>

<h2>Using a custom character set for hint labels</h2>

<p>To customize the characters used in hint labels, you can
specify a <em>label maker function</em> by assigning a function to the
<a href="../modules/select.html#property-label_maker"><code>label_maker</code></a> property. This label maker function composes
several <em>label composer functions</em> into a chain, which it returns.
Then, when a hinting mode (such as <a href="../modules/follow.html"><code>follow</code></a> mode) is entered,
this chain of functions is called to construct the labels. The label
maker function itself is only called once.</p>

<h3>Default label maker</h3>

<p>To see how this works in practice, let's examine the default label maker
function. <code>trim()</code>, <code>sort()</code>, <code>reverse()</code>, and <code>charset()</code> are all label
composer functions, and all the label maker function does is chain them
together and return the result.</p>

<pre class="sourcecode lua"><span class="identifier">select.label_maker</span> <span class="operator">=</span> <span class="identifier">function</span> <span class="operator">(</span><span class="operator">)</span>
    <span class="identifier">return</span> <span class="identifier">trim</span><span class="operator">(</span><span class="identifier">sort</span><span class="operator">(</span><span class="identifier">reverse</span><span class="operator">(</span><span class="identifier">numbers</span><span class="operator">(</span><span class="operator">)</span><span class="operator">)</span><span class="operator">)</span><span class="operator">)</span>
<span class="identifier">end</span>
</pre>

<p>Conceptually, <code>numbers()</code> produces produces an array of numerical hints:</p>

<pre class="sourcecode lua"><span class="operator">{</span> <span class="constant">"01"</span><span class="operator">,</span> <span class="constant">"02"</span><span class="operator">,</span> <span class="constant">"03"</span><span class="operator">,</span> <span class="constant">"04"</span><span class="operator">,</span> <span class="constant">"05"</span><span class="operator">,</span> <span class="operator">...</span> <span class="operator">,</span> <span class="constant">"10"</span><span class="operator">,</span> <span class="constant">"11"</span><span class="operator">,</span> <span class="constant">"12"</span><span class="operator">,</span> <span class="operator">...</span> <span class="operator">}</span>
</pre>

<p>Next, <code>reverse()</code> reverses each individual hint. This makes typing to
match hints quicker: by moving the variation in hints from the last
character to the first character, which is the first character typed
when matching, we make the first character typed filter many more hints:</p>

<pre class="sourcecode lua"><span class="operator">{</span> <span class="constant">"10"</span><span class="operator">,</span> <span class="constant">"20"</span><span class="operator">,</span> <span class="constant">"30"</span><span class="operator">,</span> <span class="constant">"40"</span><span class="operator">,</span> <span class="constant">"50"</span><span class="operator">,</span> <span class="operator">...</span> <span class="operator">,</span> <span class="constant">"01"</span><span class="operator">,</span> <span class="constant">"11"</span><span class="operator">,</span> <span class="constant">"21"</span><span class="operator">,</span> <span class="operator">...</span> <span class="operator">}</span>
</pre>

<p>Next, <code>sort()</code> sorts the hints. This step doesn't affect matching speed, but
makes the hints shown on a page appear more orderly:</p>

<pre class="sourcecode lua"><span class="operator">{</span> <span class="constant">"01"</span><span class="operator">,</span> <span class="constant">"10"</span><span class="operator">,</span> <span class="constant">"11"</span><span class="operator">,</span> <span class="constant">"20"</span><span class="operator">,</span> <span class="constant">"21"</span><span class="operator">,</span> <span class="constant">"30"</span><span class="operator">,</span> <span class="constant">"31"</span><span class="operator">,</span> <span class="constant">"40"</span><span class="operator">,</span> <span class="constant">"41"</span><span class="operator">,</span> <span class="operator">...</span> <span class="operator">}</span>
</pre>

<p>Last, <code>trim()</code> will remove any unnecessary hint suffixes. For
example, <code>"01"</code> is the only hint beginning with <code>0</code>; therefore, once
the user has typed <code>0</code>, this is the only matchable hint, and the <code>1</code>
contributes nothing:</p>

<pre class="sourcecode lua"><span class="operator">{</span> <span class="constant">"0"</span><span class="operator">,</span> <span class="constant">"10"</span><span class="operator">,</span> <span class="constant">"11"</span><span class="operator">,</span> <span class="constant">"20"</span><span class="operator">,</span> <span class="constant">"21"</span><span class="operator">,</span> <span class="constant">"30"</span><span class="operator">,</span> <span class="constant">"31"</span><span class="operator">,</span> <span class="constant">"40"</span><span class="operator">,</span> <span class="constant">"41"</span><span class="operator">,</span> <span class="operator">...</span> <span class="operator">}</span>
</pre>

<p>This is the final list of hint labels that will be used for selection.</p>

<h2>Label composer functions</h2>

<p>All label composer functions return a function that takes a single
argument <code>n</code> and produces an array of <code>n</code> hints. The nature of the
hints will vary based on the arguments provided to the composer
function. For example, the function returned by <code>charset()</code> will
use the provided set of characters to generate its hints, while the
function returned by <code>sort()</code> will first call the label composer
function passed to <code>sort()</code> to obtain a set of hints to sort.</p>

<h3>Available functions</h3>

<p>These label composer functions produce an initial generator function.</p>

<ul>
    <li><code>charset(str)</code>: Generates hints using the characters in <code>str</code>. Non-latin
    characters are supported.</li>
    <li><code>numbers()</code>: Generates hints using numbers. This is equivalent to
    calling <code>charset()</code> with the parameter <code>"0123456789"</code>.</li>
    <li><code>interleave(left, right)</code>: Similar to <code>charset()</code>, this generates
    hints that alternate between letters of the <code>left</code> and <code>right</code> strings. It is
    mostly useful for alternating between letters on the left and right sides of
    one's keyboard, as this makes hints easier to type quickly.</li>
</ul>

<p>These label composer functions accept a single generator function, and
return another function. This allows them to be chained.</p>

<ul>
    <li><code>reverse(func)</code>: Reverses the letters of each hint generated by <code>func()</code>.</li>
    <li><code>sort(func)</code>: Sorts the hints generated by <code>func()</code>.</li>
    <li><code>trim(func)</code>: Trims extra letters off the hints generated by
    <code>func()</code>. Specifically, if a prefix of any hint is not a prefix of any other
    hint, then the hint is shortened to that prefix.</li>
</ul>




        <!-- modes and binds --><h2>Properties</h2>

        <div class=property id="property-label_maker">
            <h3>
                <a href="#property-label_maker">select.label_maker</a>
            </h3>
            
            <div class="two-col property-body">
                <div>
                    <div>Type: <span class=type>function</span></div>
                    <div></div>
                    <div>Read-write</div>
                </div>
                <div>
Function that specifies how to generate hint labels.

<p>This function is executed on the web process, with a custom environment that
provides access to the label composer functions.</p>
</div>
            </div>
        </div>
    
        <h2>Attribution</h2>
<div class=attr-wrap>
    <h4>Copyright</h4><ul class=copyright>
        <li>2017 Aidan Holm
    </ul>
</div>
    
            </div>
            <div style='display:none'><a rel=prev href='../modules/search.html'></a><a rel=next href='../modules/select_wm.html'></a></div>
        </div>
	</div>
	<footer>
		<div class="container">
			<small>Copyright 2019 the luakit team</small>
			<br>
			<small>All written documentation and luakit code are copyright to their respective authors.</small>
		</div>
	</footer>
</body>
</html>
